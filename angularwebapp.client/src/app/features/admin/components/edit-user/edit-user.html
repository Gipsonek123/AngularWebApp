<div class="max-w-md mx-auto mt-12 bg-white p-6 rounded-lg shadow">

  <h1 class="text-2xl font-semibold mb-6 text-center">
    Edit User
  </h1>

  <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Username
      </label>
      <input type="text"
             formControlName="userName"
             class="w-full rounded-md border border-gray-300 px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-blue-500" />

      <span *ngIf="form.get('userName')?.invalid && submitted"
            class="text-sm text-red-600">
        Username is required
      </span>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Email
      </label>
      <input type="email"
             formControlName="email"
             class="w-full rounded-md border border-gray-300 px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-blue-500" />

      <span *ngIf="form.get('email')?.invalid && submitted"
            class="text-sm text-red-600">
        Enter a valid email address
      </span>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Role
      </label>
      <select formControlName="role"
              class="w-full rounded-md border border-gray-300 px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option *ngFor="let r of roles" [value]="r">
          {{ r }}
        </option>
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        New Password
      </label>
      <input type="password"
             formControlName="password"
             class="w-full rounded-md border border-gray-300 px-3 py-2
               focus:outline-none focus:ring-2 focus:ring-blue-500" />

      <span class="text-sm text-gray-500">
        Leave empty to keep current password
      </span>
      <span *ngIf="form.hasError('passwordInvalid') && submitted" class="text-sm text-red-600 block mt-1">
        Password must be at least 6 characters and contain:
        uppercase, lowercase, number and special character
      </span>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
      <input type="password"
             formControlName="confirmPassword"
             class="w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <span class="text-sm text-gray-500">
        Leave empty to keep current password
      </span>
      <span *ngIf="form.hasError('passwordsMismatch') && submitted" class="text-sm text-red-600 block mt-1">
        Passwords do not match
      </span>
    </div>

    <div>
      <button type="submit"
              class="w-full bg-blue-600 text-white py-2 rounded-md
               font-medium hover:bg-blue-700 transition">
        Save Changes
      </button>
    </div>

    <div *ngIf="errors.length" class="text-sm text-red-600 text-center mt-2">
      <div *ngFor="let e of errors">{{ e }}</div>
    </div>

    <p class="mt-4 text-center text-sm text-gray-600">
      <a routerLink="/admin/admin-panel" class="text-blue-600 hover:text-blue-800 font-medium">
        Back to users list
      </a>
    </p>

  </form>

</div>
